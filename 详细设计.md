
# 详细设计的任务

1. 数据设计：设计软件中所需要的数据结构。
1. 体系结构设计：
1. 接口设计：设计软件内部各个模块之间、软件与协作系统之间以及软件与用户之间的通信方式。
1. 过程设计（详细设计阶段应该完成的主要任务）：设计软件体系结构中所包含的每个模块的实现算法。

# 详细设计的目标
怎样**具体地**实现系统，即经过这个阶段的设计工作，应该得出对目标系统的精确描述从而在编码阶段可以把这个描述直接翻译成用某种程序设计语言书写的程序。

衡量程序的质量不仅要看逻辑是否正确，性能是否满足要求，更主要的是看它是否容易阅读和理解。


# 详细设计阶段的目标
除了保证软件的可靠性之外，使将来编写出来的软件可读性好、容易理解、容易测试、容易修改和维护，是详细设计阶段最重要的目标。

# 详细设计的关键任务
确定怎样**具体地**实现用户需要的软件系统，设计出程序的“蓝图”。

# 过程设计的工具
三类：图形、表格、语言

1. 程序流程图/程序框图

1. 盒图/N-S图

1. PAD图

1. 判定树

1. 判定表

1. PDL语言

# 结构程序设计
结构程序设计技术是实现详细设计目标的关键技术。

## 定义
结构程序设计是尽量少用goto语句的程序设计方法。最好仅在错误处理处使用goto语句，而且总是应该使用前向goto语句。（LEAVE或BREAK结构实际上是受限制的前向goto语句。）

## 基本的控制结构
1. 顺序结构
1. 选择（分支）结构
1. 循环结构

## 种类
1. 基本的结构程序设计：只允许顺序、IF_THEN_ELSE型分支和DO_WHILE型循环。
1. 拓展的结构程序设计：还允许使用DO_CASE型多分支结构和DO_UNTIL型循环结构。
1. 修正的结构程序设计：还允许LEAVE(BREAK)结构。




# 过程设计的工具
1. 程序流程图/程序框图

1. 盒图

1. PAD图/问题分析图（Problem Analysis Diagram）

1. 判定表：适合包含多重嵌套的条件选择情况

1. 判定树

1. 过程设计语言(PDL)



# 面向数据结构的设计方法
根据数据结构设计程序处理过程的方法。

也就是在完成了软件结构设计之后，可以使用面向数据结构的方法来设计每个模块的处理过程。

$\textcolor{Green}{Jackson方法和Warnier方法是两个最著名的面向数据结构的设计方法。}$

## 目标
面向数据结构的设计方法的最终目标是得出对程序处理过程的描述。


## Jackson方法
$\textcolor{Green}{Jackson图表示的是组成关系。}$一个方框中包括的操作仅仅由下层框中的操作组成。
### Jackson图
逻辑数据结构只有三类：顺序、选择和重复

优点：
1. 便于表示层次结构，是对结构进行自顶向下分解的有力工具；
1. 形象直观可读性好；
1. 既能表示数据结构也能表示程序结构；

#### 顺序结构
顺序结构的数据由一个或者多个数据元素组成，每个元素按确定次序出现一次


#### 选择结构
选择结构的数据包含两个及以上个数据元素，每次使用这个数据时按一定条件从这些数据元素选择一个。

#### 重复结构
重复结构的数据，根据使用时的条件由一个数据元素出现零次或多次构成。

### 改进的Jackson图




# 程序复杂程度的定量度量
常用的是McCabe方法和Halstead方法

## 定量度量程序复杂度的好处
1. 易于估算软件中错误的个数；
1. 表示软件的规模、工作量；
1. 比较两个不同设计或算法的优劣；
1. 可以作为模块规模的精确限度；

## McCabe方法
McCabe方法根据**程序控制流的复杂程度**定量度量程序的复杂程度，即程序的环形复杂度。

程序的环形复杂度V(G)取决于程序控制流的复杂度，即取决于程序结构的复杂程度。程序规模V(G)<=10为宜。

### 流图（程序图）
退化的程序框图，仅仅描绘程序的控制流程，完全不表现对数据的操作以及分支或循环的具体条件。

#### 表示
1. 用圆表示结点，一个圆代表一个或多条语句
1. 用箭头边，代表控制流
---

由边和点围成的面积表示区域。

对于复合条件，应该分解成若干个简单条件，每个简单条件对应一个结点。

### 计算环形复杂度的方法
1. 流图中线性无关的区域数等于环形复杂度；
1. 流图G的环形复杂度$V(G)=E-N+2$，其中，E是流图中的边数，N是结点数；
1. 流图G的环形复杂度$V(G)=P+1$，其中P是流图中判定结点的个数。

## Halstead方法
根据程序中**运算符和操作数的总数**来衡量程序的复杂程度。

令$N_1$为程序中运算符出现的总次数，$N_2$为操作数出现的总次数，程序长度$N$定义为：$N=N_1+N_2$




