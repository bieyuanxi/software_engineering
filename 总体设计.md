总体设计又被称为概要设计或者初步设计。

# 概要设计的目的
回答“概括地讲，系统应该如何实现“这个问题

用比较概括抽象的方式确定系统如何完成预定的任务，确定系统的物理配置方案，进而确定组成系统的每个程序的结构。

# 概要设计的任务
1. 系统设计/方案设计，从数据流图出发确定出系统的具体物理实现方案，划分出组成系统的物理元素，即程序、文件、数据库、人工过程和文档等；
1. 软件结构设计，即确定系统中每个程序是由哪些模块组成的，以及这些模块相互间的关系。

# 概要设计的步骤
1. 寻找实现目标系统的各种不同的方案，需求分析阶段得到的数据流图是设想各种方案的基础；
1. 分析员从这些供选择的方案中选取若干个合理的方案，为每个合理的方案都准备一份系统流程图，列出组成系统的所有物理元素，进行成本/效益分析，并且制定实现这个方案的进度计划；
1. 进行必要的数据库设计，确定测试要求并且制定测试计划；
-----
1. 设想供选择的方案
1. 选取合理的方案：低成本、中成本、高成本
1. 推荐最佳方案
1. 功能分解
1. 设计软件结构
1. 设计数据库
1. 制定测试计划
1. 书写文档：
    1. 系统说明：用系统流程图描绘的系统构成方案，组成系统的物理元素清单，成本/效益分析；精化的数据流图；用层次图或结构图描绘的软件结构；用IPO图或其他工具（PDL语言）简要描述的各个模块的算法，模块间的接口关系等；
    1. 用户手册：根据总体设计阶段的结果，修改在需求分析阶段产生的初步的用户手册；
    1. 测试计划：包括测试策略，测试方案，预期的测试结果，测试进度计划等；
    1. 详细的实现计划；
    1. 数据库设计结果；
1. 审查和复查

# 软件设计的基本原则
1. 模块化
1. 模块独立（最主要原理）：指导模块划分和组织最重要的原理
1. 抽象
1. 逐步求精
1. 信息隐藏和局部化

## 模块化
模块是构成程序的基本构件。模块化是软件应该具备的最重要的属性。

模块化使软件容易测试和调试，有助于提高软件可靠性；
变化往往只涉及少数几个模块，能提高软件的可修改性；

## 模块独立
$\textcolor{Green}{指导模块划分和组织最重要的原理}$

模块独立的概念是模块化、抽象、信息隐藏和局部化概念的直接结果。

## 抽象
用自顶向下由抽象到具体的方式分配控制，简化了软件的设计和实现，提高了软件的可理解性和可测试性；


## 求精
求精实际上是细化过程。

## 信息隐藏和局部化
信息隐藏的不是有关模块的一切信息，而是模块的实现细节。


# 度量模块独立性的标准
模块的独立程度可以由两个定性标准来度量：内聚和耦合。

## 内聚
内聚标识着一个模块内各个元素彼此结合的紧密程度。

1. 功能内聚（10：最高程度的内聚）：模块内所有元素属于一个整体，完成单一的功能；
1. 顺序内聚（9）：模块内的处理元素和一个功能密切相关，而且这些处理元素必须顺序执行（一个处理元素的输出作为下一个处理元素的输入）。
1. 通信内聚（7）：模块内所有元素使用同一个输入数据或产生同一个输出；
1. 过程内聚（5）：一个模块内的处理元素是相关的，且必须以特定顺序执行（使用程序流程图往往得到过程内聚的模块）；
1. 时间内聚（3）：一个模块包含的任务必须在同一时间段内执行（如初始化）；
1. 逻辑内聚（1）：一个模块完成的任务在逻辑上属于相同或相似的一类（如一个模块产生各种类型的全部输出）；
1. 偶然内聚（0）：一个模块完成一组任务，这些任务彼此之间联系松散；


## 耦合
耦合是对一个软件结构内不同模块之间互连程度的度量。
耦合强弱取决于模块间接口的复杂程度，进入或者访问一个模块的点，以及通过接口的数据。

$\textcolor{Green}{尽量使用数据耦合，少用控制耦合和特征耦合，限制公共环境耦合的范围，坚决不用内容耦合。}$

1. 数据耦合（低）：两个模块之间彼此通过参数交换信息，而且交换的信息仅仅是数据（不是控制信息）。
1. 控制耦合（中）：交换的信息中有控制信息。
1. 特征耦合(中？)：将整个数据结构作为参数传递而被调用的模块只需要其中一部分数据元素。
1. 公共环境耦合：两个或多个模块通过一个公共数据环境相互作用。（可能是数据耦合，或者介于数据耦合和控制耦合之间）
1. 内容耦合（最高）：以下条件之一
    1. 一个模块访问另一个模块的内部数据；
    1. 一个模块不通过正常的入口直接转到另一个模块的内部；
    1. 两个模块有一部分代码重叠（只可能发生在汇编程序）；
    1. 一个模块有多个入口（意味着一个模块有多种功能）；

# 软件设计的启发规则
1. 改进软件结构提高模块独立性：降低耦合，提高内聚
1. 模块规模应该适中
1. 深度、宽度、扇出和扇入都应适当
1. 模块的作用域应该在控制域之内
1. 力争降低模块接口的复杂度
1. 设计单入口单出口的模块：不要出现内容耦合
1. 模块功能应该可以预测


# 描绘软件结构的工具
1. 层次图和HIPO图：描绘软件的层次结构。$\textcolor{Green}{通常用层次图作为描绘软件结构的文档。}$
1. 结构图

## 层次图
1. 矩形框：代表一个模块
1. 方框间的连线：表示调用关系而不是组成关系（层次方框图表示是组成关系）

## HIPO图
层次图+输入/处理/输出图

除了最顶层的方框之外，每个方框都加了编号，每个方框对应一张IPO图描绘方框代表的模块的处理过程。


## 结构图



# （软件结构设计的方法）面向数据流的软件结构设计方法
面向数据流的设计方法把数据流图（信息流）映射成软件结构，数据流的类型决定了映射的方法。

数据流有下述两种类型：
1. 变换流：
1. 事务流：根据输入的数据在若干个候选动作序列中选取一个来执行

## 目的
给出设计软件结构的一个系统化的途径。

## 设计步骤
1. 复查基本系统模型
1. 复查并精化数据流图
1. 确定数据流图具有变换特征还是事务特征
1. 确定数据流的边界
1. 完成第一级分解
1. 完成第二级分解
1. 优化






